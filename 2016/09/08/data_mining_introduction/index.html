<!doctype html>



  


<html class="theme-next pisces use-motion">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>



<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />












  
  
  <link href="/vendors/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />




  
  
  
  

  
    
    
  

  

  

  

  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/vendors/font-awesome/css/font-awesome.min.css?v=4.4.0" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.0.1" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="Data Mining,数据挖掘," />





  <link rel="alternate" href="/atom.xml" title="ZhOnG" type="application/atom+xml" />




  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=5.0.1" />






<meta name="description" content="本文主要简单简单介绍了数据挖掘的相关定义基础，当作课堂笔记。">
<meta property="og:type" content="article">
<meta property="og:title" content="数据挖掘简介">
<meta property="og:url" content="http://yoursite.com/2016/09/08/data_mining_introduction/index.html">
<meta property="og:site_name" content="ZhOnG">
<meta property="og:description" content="本文主要简单简单介绍了数据挖掘的相关定义基础，当作课堂笔记。">
<meta property="og:updated_time" content="2016-09-08T08:12:51.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="数据挖掘简介">
<meta name="twitter:description" content="本文主要简单简单介绍了数据挖掘的相关定义基础，当作课堂笔记。">



<script type="text/javascript" id="hexo.configuration">
  var NexT = window.NexT || {};
  var CONFIG = {
    scheme: 'Pisces',
    sidebar: {"position":"left","display":"post"},
    fancybox: true,
    motion: true,
    duoshuo: {
      userId: 0,
      author: '博主'
    }
  };
</script>




  <link rel="canonical" href="http://yoursite.com/2016/09/08/data_mining_introduction/"/>


  <title> 数据挖掘简介 | ZhOnG </title>
</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  










  
  
    
  

  <div class="container one-collumn sidebar-position-left page-post-detail ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-meta ">
  

  <div class="custom-logo-site-title">
    <a href="/"  class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <span class="site-title">ZhOnG</span>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>
  <p class="site-subtitle">随缘笔记</p>
</div>

<div class="site-nav-toggle">
  <button>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
  </button>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br />
            
            分类
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br />
            
            关于
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            归档
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            标签
          </a>
        </li>
      

      
    </ul>
  

  
</nav>

 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                数据挖掘简介
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2016-09-08T14:17:44+08:00" content="2016-09-08">
              2016-09-08
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/Data-Mining/" itemprop="url" rel="index">
                    <span itemprop="name">Data Mining</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/2016/09/08/data_mining_introduction/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2016/09/08/data_mining_introduction/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          
          
          
          
             <span id="/2016/09/08/data_mining_introduction/" class="leancloud_visitors" data-flag-title="数据挖掘简介">
               <!-- &nbsp; | &nbsp; -->
              阅读次数
               <!-- <span class="post-meta-item-icon"> -->
               <!--  <i class="fa fa-eye"></i> -->
               <!-- </span> -->
               <!-- <span class="post-meta-item-text">阅读次数 </span> -->
               <!-- <span class="leancloud-visitors-count"></span> -->
              </span>
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        <h2 id="Data-Mining-Introduction"><a href="#Data-Mining-Introduction" class="headerlink" title="Data Mining Introduction"></a>Data Mining Introduction</h2><h3 id="Why-Data-Mining"><a href="#Why-Data-Mining" class="headerlink" title="Why Data Mining?"></a>Why Data Mining?</h3><ul>
<li><p>Science</p>
<ul>
<li>Data collected and stored at enormous speeds(GB/hour)<ul>
<li>Remote sensors on a satellite</li>
<li>Telescopes scanning the skies</li>
<li>Microarrays generating gene expression</li>
<li>Scientific simulations generating terabytes of data</li>
</ul>
</li>
<li>Traditional techniques infeasible for raw data</li>
<li>Data mining helps scientists<ul>
<li>Classifying and segmenting data</li>
<li>Hypothesis formation</li>
</ul>
</li>
</ul>
</li>
<li><p>Industry</p>
<ul>
<li>Lots of data is being collected and put into data warehouses<ul>
<li>Sales transactions</li>
<li>Stock trading records</li>
<li>Product descriptions</li>
<li>Sales promotions</li>
<li>Customer feedbacks</li>
</ul>
</li>
<li>Computers are cheap and powerful</li>
<li>Competitive Pressure is Strong</li>
</ul>
</li>
<li><p>Data mining turns a large collection of data into knowledge</p>
</li>
</ul>
<hr>
<h3 id="What-is-Data-Mining"><a href="#What-is-Data-Mining" class="headerlink" title="What is Data Mining?"></a>What is Data Mining?</h3><ul>
<li><p>Many Definitions</p>
<ul>
<li>Non-trivial extraction of implicit, previously unknown and useful information from data</li>
<li>Exploration &amp; analysis, by automatic or semi-automatic means, of large quantities of data in order to discover meaningful patterns</li>
</ul>
</li>
<li><p>Data Mining: process of semi-automatically analyzing large databases to find patterns that are:</p>
<ul>
<li>Valid: hold on new data with some certainty</li>
<li>Novel: non-obvious to the system</li>
<li>Useful: should be possible to act on the item</li>
<li>Understandable: humans should be able to interpret the pattern</li>
</ul>
</li>
</ul>
<hr>
<h3 id="What-Kinds-of-Data-Can-be-Mined"><a href="#What-Kinds-of-Data-Can-be-Mined" class="headerlink" title="What Kinds of Data Can be Mined"></a>What Kinds of Data Can be Mined</h3><ul>
<li><p>Database Data</p>
<ul>
<li>A relational database is a collection of tables, each consists of a set of attributes (columns or fields), and usually stores a large set of tuples.</li>
<li><p>Using relational query language (SQL), youcan ask things like:</p>
<ul>
<li>show me a list of all items that were sold in the last quarter?</li>
<li>…</li>
</ul>
</li>
<li><p>We can go further by searching for trends or data patterns</p>
<ul>
<li>Analyze customer data to predict the credit risk of new customers based on their income, age, and previous credit information.</li>
</ul>
</li>
<li><p>Data Warehouses</p>
<ul>
<li>combination with many databases.</li>
<li>many data sources –&gt; (Clean/Integrate/Transform/Load/Refresh) –&gt; Data Warehouse –&gt; (query) –&gt; clients</li>
<li>Note: 讲道理，就是在多个数据库当中根据维度切割出有用的部分，（见商务智能四方体模型，两种方式：Drill-down（切割／裁剪数据）/Roll-up（拼接））</li>
</ul>
</li>
<li><p>Transaction Data</p>
<ul>
<li>A special type of record data, where <ul>
<li>Each record (transaction) involves a set of items.</li>
</ul>
</li>
</ul>
</li>
<li><p>Spatial-Temporal Data(时空数据？）</p>
<ul>
<li>Average Monthly Temperature of land and ocean</li>
</ul>
</li>
<li><p>Each document becomes a “term” vector</p>
<ul>
<li>Each term is a component (attribute) of the vector</li>
<li>The value of each component is the number of times the corresponding term occurs in the document.</li>
</ul>
</li>
<li><p>Graph and networked data</p>
<ul>
<li>Hyperlink graph</li>
<li>Social and information networks</li>
</ul>
</li>
<li><p>Hypertext and multimedia data</p>
<ul>
<li>Text, image, video, and audio data</li>
</ul>
</li>
<li><p>Time-related sequence data (按照时间可以发现趋势图？）</p>
<ul>
<li>Historical records</li>
<li>Stock exchange data</li>
<li>Time-series</li>
<li>Biological sequence data</li>
</ul>
</li>
<li><p>Data Stream</p>
<ul>
<li>Video surveillance</li>
<li>Sensor data</li>
</ul>
</li>
</ul>
</li>
</ul>
<hr>
<h3 id="Analysis-Methods"><a href="#Analysis-Methods" class="headerlink" title="Analysis Methods:"></a>Analysis Methods:</h3><ul>
<li><p>Class/Concept Description: Characterization and Discrimination</p>
<ul>
<li><p>Data entries can be associated with classes or concepts</p>
<ul>
<li>Classes of items for sale include computers &amp; printers</li>
<li>Concepts of customers include bigSpenders and budgetSpenders</li>
</ul>
</li>
<li><p>It is useful to describe individual classes/concepts in summary</p>
</li>
<li><p>Data Characterization:</p>
<ul>
<li>Tools: Statistical measures and plots（统计学方法，不对数据处理仅进行统计分析）</li>
<li>Outputs: Pie charts, bar charts, curves, multi-dimensional data cubes, and multi-dimensional tables, generalized relations</li>
</ul>
</li>
<li><p>Data Discrimination（对比数据，获得可区分的内容）</p>
<ul>
<li>Comparison of the general features of the target class data objects against the general features of objects from one or multiple contrasting classes</li>
<li>Outputs: comparative measures that help to distinguish between the target and contrasting classes</li>
</ul>
</li>
</ul>
</li>
<li><p>Mining Frequent Patterns, Associations and Correlations (ex. 啤酒＋尿布／面包＋奶油；在高频数据中找关联）</p>
<ul>
<li>A frequent item set typically refers to a set of items that often appear together in a transactional dataset</li>
<li>Mining frequent patterns leads to the discovery of interesting associations and correlations within data.</li>
</ul>
</li>
<li><p>Classification and Regression for Predictive Analysis</p>
<ul>
<li>Classification<ul>
<li>Training data: data objects with class labels are known（根据已知属性来归类？类似于根据Sports/Entertainment/Medical等区别来分班级？神经网络？）</li>
<li>Output: Find a model that describes and distinguishes data classes or concepts</li>
</ul>
</li>
<li>Regression Analysis（回归算法？）<ul>
<li>Regression models continuous-valued functions</li>
</ul>
</li>
</ul>
</li>
<li><p>Cluster Analysis（聚类算法？找类）</p>
<ul>
<li>Points (objects) that are “close” in the attribute (feature) space are assigned to the same cluster</li>
</ul>
</li>
</ul>
<ul>
<li><p>Outlier Analysis（找类之外的奇怪的点，感觉就是聚类算法的对立点？）</p>
<ul>
<li>in some applications such as fraud detection, the rare events can be more interesting than the more regularly occurring ones. The analysis of outlier data is referred to as outlier analysis or anomaly ming.</li>
<li>Outliners may be detected using statistical tests, or using distance measures.</li>
</ul>
</li>
<li><p>Meaningfulness of Answers</p>
<ul>
<li>A big data-mining risk is that you will “discover” patterns that are meaningless</li>
<li>Bonferroni’s principle: (roughly) if you look in more places for interesting patterns than your amount of data will support, you are bound to find bogus（虚假的）.</li>
<li>Are all patterns interesting? What makes a pattern interesting?<ul>
<li>Valid: hold on new data with some certainty</li>
<li>Novel: non-obvious to the system</li>
<li>Useful: should be possible to act on the item</li>
<li>Understandable: humans should be able to interpret the pattern</li>
</ul>
</li>
</ul>
</li>
</ul>
<hr>
<h3 id="Example"><a href="#Example" class="headerlink" title="Example:"></a>Example:</h3><p>buy computer -&gt; buy software</p>
<p>support = 4% ==&gt; confidence = 50%</p>
<p><strong>支持度 &amp; 置信度： 怎么算？ TODO</strong></p>
<hr>
<h3 id="Which-technologies-are-used"><a href="#Which-technologies-are-used" class="headerlink" title="Which technologies are used?"></a>Which technologies are used?</h3><ul>
<li><p>Data mining make use of technologies from machine learning, statistics, artificial intelligence, databases, visualization bu..</p>
<ul>
<li>Scalability of number of features and instances</li>
<li>Stress on algorithms and architectures(from statical &amp; machine learning)</li>
<li>Automation for handling large, heterogeneous data</li>
</ul>
</li>
<li><p>Statistics</p>
<ul>
<li>Statistical descriptions</li>
<li>Inferential statistics(predictive statistics)</li>
<li>Statistical Hypothesis Testing</li>
<li>a trivial task(applying statistical methods in data mining)<ul>
<li>how to scale up a statistical method over a large data set</li>
<li>how to perform statistical methods in real time(online tasks)</li>
</ul>
</li>
</ul>
</li>
<li><p>Machine Learning</p>
<ul>
<li>Problems:<ul>
<li>Supervised learning</li>
<li>Unsupervised learning</li>
<li>Semi-supervised learning</li>
<li>Active Learning</li>
</ul>
</li>
</ul>
</li>
</ul>
<hr>
<h3 id="Applications"><a href="#Applications" class="headerlink" title="Applications"></a>Applications</h3><ul>
<li><p>Web Mining:</p>
<ul>
<li>Decide the importance of pages: PageRank algorithm</li>
</ul>
</li>
<li><p>Decisions involving judgment</p>
<ul>
<li>Decide whether to lend you money</li>
<li>Apply data mining and machine learning<ul>
<li>Example: loan decision? training data: about attributes from questionnaire, classification rules help make decision.</li>
</ul>
</li>
<li>Market and Sales<ul>
<li>Customer loyalty</li>
<li>Advertising<ul>
<li>Detecting patterns of behavior(benefit from new services)</li>
<li>指导生产</li>
</ul>
</li>
<li>Markey-basket analysis</li>
</ul>
</li>
</ul>
</li>
<li><p>Other applications</p>
<ul>
<li>Medicine</li>
<li>Molecular/Pharmaceutical</li>
<li>Scientific data analysis</li>
</ul>
</li>
</ul>
<hr>
<h3 id="Major-Issues-in-Data-Mining"><a href="#Major-Issues-in-Data-Mining" class="headerlink" title="Major Issues in Data Mining"></a>Major Issues in Data Mining</h3><ul>
<li>Mining Methodology</li>
<li>User Interaction</li>
<li>Efficiency and Scalability</li>
<li>Diversity of Database Types</li>
<li>Data Mining and Society</li>
</ul>

      
    </div>

    <div>
      
        

      
    </div>

    <div>
      
        

      
    </div>

    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/Data-Mining/" rel="tag">#Data Mining</a>
          
            <a href="/tags/数据挖掘/" rel="tag">#数据挖掘</a>
          
        </div>
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2016/09/07/requests/" rel="next" title="Python爬虫（二）—— 使用requests类库进行简单的爬取网页">
                <i class="fa fa-chevron-left"></i> Python爬虫（二）—— 使用requests类库进行简单的爬取网页
              </a>
            
          </div>

          <div class="post-nav-prev post-nav-item">
            
          </div>
        </div>
      

      
      
    </footer>
  </article>



    <div class="post-spread">
      
    </div>
  </div>


          </div>
          


          
  <div class="comments" id="comments">
    
      <div class="ds-thread" data-thread-key="2016/09/08/data_mining_introduction/"
           data-title="数据挖掘简介" data-url="http://yoursite.com/2016/09/08/data_mining_introduction/">
      </div>
    
  </div>


        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap" >
            文章目录
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview">
            站点概览
          </li>
        </ul>
      

      <section class="site-overview sidebar-panel ">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" itemprop="image"
               src="/images/avatar/ez.jpg"
               alt="yqzhong" />
          <p class="site-author-name" itemprop="name">yqzhong</p>
          <p class="site-description motion-element" itemprop="description">一个学生的逆袭道路</p>
        </div>
        <nav class="site-state motion-element">
          <div class="site-state-item site-state-posts">
            <a href="/archives">
              <span class="site-state-item-count">3</span>
              <span class="site-state-item-name">日志</span>
            </a>
          </div>

          
            <div class="site-state-item site-state-categories">
              <a href="/categories">
                <span class="site-state-item-count">2</span>
                <span class="site-state-item-name">分类</span>
              </a>
            </div>
          

          
            <div class="site-state-item site-state-tags">
              <a href="/tags">
                <span class="site-state-item-count">6</span>
                <span class="site-state-item-name">标签</span>
              </a>
            </div>
          

        </nav>

        
          <div class="feed-link motion-element">
            <a href="/atom.xml" rel="alternate">
              <i class="fa fa-rss"></i>
              RSS
            </a>
          </div>
        

        <div class="links-of-author motion-element">
          
        </div>

        
        

        
        

      </section>

      
        <section class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">
            
              
            
            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#Data-Mining-Introduction"><span class="nav-number">1.</span> <span class="nav-text">Data Mining Introduction</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Why-Data-Mining"><span class="nav-number">1.1.</span> <span class="nav-text">Why Data Mining?</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#What-is-Data-Mining"><span class="nav-number">1.2.</span> <span class="nav-text">What is Data Mining?</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#What-Kinds-of-Data-Can-be-Mined"><span class="nav-number">1.3.</span> <span class="nav-text">What Kinds of Data Can be Mined</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Analysis-Methods"><span class="nav-number">1.4.</span> <span class="nav-text">Analysis Methods:</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Example"><span class="nav-number">1.5.</span> <span class="nav-text">Example:</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Which-technologies-are-used"><span class="nav-number">1.6.</span> <span class="nav-text">Which technologies are used?</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Applications"><span class="nav-number">1.7.</span> <span class="nav-text">Applications</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Major-Issues-in-Data-Mining"><span class="nav-number">1.8.</span> <span class="nav-text">Major Issues in Data Mining</span></a></li></ol></li></ol></div>
            
          </div>
        </section>
      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <script async src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js">
</script>

<div class="copyright" >
  
  &copy; 
  <span itemprop="copyrightYear">2016</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">yqzhong</span>
  <br />
  <span id="busuanzi_container_site_pv">
    Total visited <span id="busuanzi_value_site_pv"></span> times
  </span>

</div>

        

        
      </div>
    </footer>

    <div class="back-to-top">
      <i class="fa fa-arrow-up"></i>
    </div>
  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  



  
  <script type="text/javascript" src="/vendors/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/vendors/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/vendors/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/vendors/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/vendors/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/vendors/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.0.1"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.0.1"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=5.0.1"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.0.1"></script>



  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.0.1"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.0.1"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.0.1"></script>



  

  
    
  

  <script type="text/javascript">
    var duoshuoQuery = {short_name:"yqzhong"};
    (function() {
      var ds = document.createElement('script');
      ds.type = 'text/javascript';ds.async = true;
      ds.id = 'duoshuo-script';
      ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
      ds.charset = 'UTF-8';
      (document.getElementsByTagName('head')[0]
      || document.getElementsByTagName('body')[0]).appendChild(ds);
    })();
  </script>

  
    
    <script src="/vendors/ua-parser-js/dist/ua-parser.min.js?v=0.7.9"></script>
    <script src="/js/src/hook-duoshuo.js"></script>
  






  
  

  

  

  
  <script src="https://cdn1.lncld.net/static/js/av-core-mini-0.6.1.js"></script>
  <script>AV.initialize("m2yfnJAjE8SGNRquPagWQpWB-gzGzoHsz", "GB7Fk5hNRDt7WsXRcWA7Okrm");</script>
  <script>
    function showTime(Counter) {
      var query = new AV.Query(Counter);
      var entries = [];
      var $visitors = $(".leancloud_visitors");

      $visitors.each(function () {
        entries.push( $(this).attr("id").trim() );
      });

      query.containedIn('url', entries);
      query.find()
        .done(function (results) {
          var COUNT_CONTAINER_REF = '.leancloud-visitors-count';

          if (results.length === 0) {
            $visitors.find(COUNT_CONTAINER_REF).text(0);
            return;
          }

          for (var i = 0; i < results.length; i++) {
            var item = results[i];
            var url = item.get('url');
            var time = item.get('time');
            var element = document.getElementById(url);

            $(element).find(COUNT_CONTAINER_REF).text(time);
          }
          for(var i = 0; i < entries.length; i++) {
            var url = entries[i];
            var element = document.getElementById(url);
            var countSpan = $(element).find(COUNT_CONTAINER_REF);
            if( countSpan.text() == '') {
              countSpan.text(0);
            }
          }
        })
        .fail(function (object, error) {
          console.log("Error: " + error.code + " " + error.message);
        });
    }

    function addCount(Counter) {
      var $visitors = $(".leancloud_visitors");
      var url = $visitors.attr('id').trim();
      var title = $visitors.attr('data-flag-title').trim();
      var query = new AV.Query(Counter);

      query.equalTo("url", url);
      query.find({
        success: function(results) {
          if (results.length > 0) {
            var counter = results[0];
            counter.fetchWhenSave(true);
            counter.increment("time");
            counter.save(null, {
              success: function(counter) {
                var $element = $(document.getElementById(url));
                $element.find('.leancloud-visitors-count').text(counter.get('time'));
              },
              error: function(counter, error) {
                console.log('Failed to save Visitor num, with error message: ' + error.message);
              }
            });
          } else {
            var newcounter = new Counter();
            /* Set ACL */
            var acl = new AV.ACL();
            acl.setPublicReadAccess(true);
            acl.setPublicWriteAccess(true);
            newcounter.setACL(acl);
            /* End Set ACL */
            newcounter.set("title", title);
            newcounter.set("url", url);
            newcounter.set("time", 1);
            newcounter.save(null, {
              success: function(newcounter) {
                var $element = $(document.getElementById(url));
                $element.find('.leancloud-visitors-count').text(newcounter.get('time'));
              },
              error: function(newcounter, error) {
                console.log('Failed to create');
              }
            });
          }
        },
        error: function(error) {
          console.log('Error:' + error.code + " " + error.message);
        }
      });
    }

    $(function() {
      var Counter = AV.Object.extend("Counter");
      if ($('.leancloud_visitors').length == 1) {
        addCount(Counter);
      } else if ($('.post-title-link').length > 1) {
        showTime(Counter);
      }
    });
  </script>



  

  
  <!-- custom analytics part-->
<script src="https://cdn1.lncld.net/static/js/av-core-mini-0.6.1.js"></script>
<script>AV.initialize("m2yfnJAjE8SGNRquPagWQpWB-gzGzoHsz", "GB7Fk5hNRDt7WsXRcWA7Okrm");</script>
<script>
function showTime(Counter) {
  var query = new AV.Query(Counter);
  $(".leancloud_visitors").each(function() {
    var url = $(this).attr("id").trim();
    query.equalTo("url", url);
    query.find({
      success: function(results) {
        if (results.length == 0) {
          var temp = $(document.getElementById(url)).text();
          if(temp.indexOf("|") == -1) {
            var content = '0 ' + $(document.getElementById(url)).text();
            $(document.getElementById(url)).text(content);
          }
          return;
        }else {
          for (var i = 0; i < results.length; i++) {
            var temp = $(document.getElementById(url)).text();
            if(temp.indexOf("|") == -1) {
              var object = results[i];
              var content = object.get('time') + ' ' + $(document.getElementById(url)).text();
              $(document.getElementById(url)).text(content);
            }
          }
        }
      },
      error: function(object, error) {
        console.log("Error: " + error.code + " " + error.message);
      }
    });

  });
}

function addCount(Counter) {
  var Counter = AV.Object.extend("Counter");
  url = $(".leancloud_visitors").attr('id').trim();
  title = $(".leancloud_visitors").attr('data-flag-title').trim();
  var query = new AV.Query(Counter);
  query.equalTo("url", url);
  query.find({
    success: function(results) {
      if (results.length > 0) {
        var counter = results[0];
        counter.fetchWhenSave(true);
        counter.increment("time");
        counter.save(null, {
          success: function(counter) {
            var content =  counter.get('time') + ' ' + $(document.getElementById(url)).text();
            $(document.getElementById(url)).text(content);
          },
          error: function(counter, error) {
            console.log('Failed to save Visitor num, with error message: ' + error.message);
          }
        });
      } else {
        var newcounter = new Counter();
        newcounter.set("title", title);
        newcounter.set("url", url);
        newcounter.set("time", 1);
        newcounter.save(null, {
          success: function(newcounter) {
              console.log("newcounter.get('time')="+newcounter.get('time'));
            var content = newcounter.get('time') + ' ' + $(document.getElementById(url)).text();
            $(document.getElementById(url)).text(content);
          },
          error: function(newcounter, error) {
            console.log('Failed to create');
          }
        });
      }
    },
    error: function(error) {
      console.log('Error:' + error.code + " " + error.message);
    }
  });
}
$(function() {
  var Counter = AV.Object.extend("Counter");
  if ($('.leancloud_visitors').length == 1) {
    addCount(Counter);
  } else if ($('.post-title-link').length > 1) {
    showTime(Counter);
  }
}); 
</script>
  
</body>
</html>
